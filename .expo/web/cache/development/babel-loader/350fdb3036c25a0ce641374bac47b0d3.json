{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Touchable from \"react-native-web/dist/exports/Touchable\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Home } from \"./src/features/home/Home\";\nimport { Focus } from \"./src/features/focus/Focus\";\nimport { History } from \"./src/components/History\";\nimport { statuses } from \"./src/utils/constants/Statuses\";\nimport convertNumToTime from \"./src/utils/ConvertNumToTime\";\n\nvar App = function App() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      focusSubject = _useState2[0],\n      setFocusSubject = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      focusHistory = _useState4[0],\n      setFocusHistory = _useState4[1];\n\n  var _useState5 = useState(1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      startingMinutes = _useState6[0],\n      setStartingMinutes = _useState6[1];\n\n  var addFocusHistoryWithState = function addFocusHistoryWithState(subject, status) {\n    var minutesLeft = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n    setFocusHistory([].concat(_toConsumableArray(focusHistory), [{\n      subject: subject,\n      status: status,\n      minutesLeft: convertNumToTime(minutesLeft),\n      minutes: minutesLeft\n    }]));\n    setFocusSubject(null);\n  };\n\n  var onClear = function onClear() {\n    return _regeneratorRuntime.async(function onClear$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setFocusHistory([]);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"focusHistory\", JSON.stringify([])));\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var saveFocusHistory = function saveFocusHistory() {\n    return _regeneratorRuntime.async(function saveFocusHistory$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"focusHistory\", JSON.stringify(focusHistory)));\n\n          case 3:\n            _context2.next = 8;\n            break;\n\n          case 5:\n            _context2.prev = 5;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var loadFocusHistory = function loadFocusHistory() {\n    var history;\n    return _regeneratorRuntime.async(function loadFocusHistory$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"focusHistory\"));\n\n          case 3:\n            history = _context3.sent;\n            _context3.t0 = console;\n            _context3.next = 7;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"focusHistory\"));\n\n          case 7:\n            _context3.t1 = _context3.sent;\n            _context3.t2 = \"HISTORY\" + _context3.t1;\n\n            _context3.t0.log.call(_context3.t0, _context3.t2);\n\n            if (history && JSON.parse(history).length) setFocusHistory(JSON.parse(history));\n            _context3.next = 16;\n            break;\n\n          case 13:\n            _context3.prev = 13;\n            _context3.t3 = _context3[\"catch\"](0);\n            console.log(_context3.t3);\n\n          case 16:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 13]], Promise);\n  };\n\n  useEffect(function () {\n    if (focusHistory.length) {\n      saveFocusHistory();\n    }\n  }, [focusHistory]);\n  useEffect(function () {\n    loadFocusHistory();\n  }, []);\n\n  var addSubject = function addSubject(subject, minutes) {\n    if (subject === null || subject === '') Alert.alert('Uh oh', 'You forgot to add a subject', [{\n      text: 'OK',\n      onPress: function onPress() {\n        return console.log('OK Pressed');\n      }\n    }]);else {\n      setFocusSubject(subject);\n      setStartingMinutes(minutes);\n    }\n  };\n\n  var onCountdownEnd = function onCountdownEnd() {\n    addFocusHistoryWithState(focusSubject, statuses.COMPLETE);\n  };\n\n  var clearSubject = function clearSubject(minutes) {\n    addFocusHistoryWithState(focusSubject, statuses.CANCELLED, minutes);\n  };\n\n  return React.createElement(View, {\n    style: styles.container\n  }, React.createElement(Modal, {\n    visible: focusSubject !== null,\n    animationType: \"slide\"\n  }, React.createElement(TouchableWithoutFeedback, {\n    onPress: Keyboard.dismiss\n  }, React.createElement(View, null, React.createElement(Focus, {\n    focusSubject: focusSubject,\n    addSubject: addSubject,\n    onCountdownEnd: onCountdownEnd,\n    clearSubject: clearSubject,\n    startingMinutes: startingMinutes,\n    setStartingMinutes: setStartingMinutes\n  })))), React.createElement(View, null, React.createElement(View, null, React.createElement(Home, {\n    addSubject: addSubject,\n    focusHistory: focusHistory,\n    onClear: onClear\n  }))));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  }\n});\nexport default App;","map":{"version":3,"sources":["/Users/ethancannelongo/Desktop/React Native/Focal Point/focalpoint/App.js"],"names":["React","useState","useEffect","AsyncStorage","Home","Focus","History","statuses","convertNumToTime","App","focusSubject","setFocusSubject","focusHistory","setFocusHistory","startingMinutes","setStartingMinutes","addFocusHistoryWithState","subject","status","minutesLeft","minutes","onClear","setItem","JSON","stringify","saveFocusHistory","console","log","loadFocusHistory","getItem","history","parse","length","addSubject","Alert","alert","text","onPress","onCountdownEnd","COMPLETE","clearSubject","CANCELLED","styles","container","Keyboard","dismiss","StyleSheet","create","flex"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  SafeAreaView,\n  TouchableWithoutFeedback,\n  Text,\n  View,\n  TextInput,\n  Pressable,\n  KeyboardAvoidingView,\n  Keyboard,\n  StyleSheet,\n  Platform,\n  Modal,\n  Alert,\n  Animated,\n  Touchable, \n} from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage'\nimport { Home } from './src/features/home/Home';\nimport { Focus } from './src/features/focus/Focus';\nimport {History} from './src/components/History'\nimport {statuses} from './src/utils/constants/Statuses'\nimport convertNumToTime from './src/utils/ConvertNumToTime'\n\nconst App = () => {\n  const [focusSubject, setFocusSubject] = useState(null);\n  const [focusHistory, setFocusHistory] = useState([]);\n  const [startingMinutes, setStartingMinutes] = useState(1)\n\n  const addFocusHistoryWithState = (subject, status, minutesLeft = \"\") => {\n    setFocusHistory([...focusHistory, { subject, status, minutesLeft: convertNumToTime(minutesLeft), minutes:minutesLeft}]);\n    setFocusSubject(null)\n  };\n\n  const onClear = async ()=>{\n    setFocusHistory([])\n    await AsyncStorage.setItem(\"focusHistory\", JSON.stringify([]))\n\n  }\n\n  const saveFocusHistory= async ()=>{\n    try{\n        await AsyncStorage.setItem(\"focusHistory\", JSON.stringify(focusHistory))\n    }catch(e){\n        console.log(e)\n    }\n  }\n\n  const loadFocusHistory = async ()=>{\n    try{\n        const history = await AsyncStorage.getItem(\"focusHistory\")\n        console.log(\"HISTORY\"+ await AsyncStorage.getItem(\"focusHistory\"))\n        if (history && JSON.parse(history).length)\n          setFocusHistory(JSON.parse(history))\n    }catch(e){\n        console.log(e)\n    }\n  }\n\n  useEffect(()=>{\n    if (focusHistory.length){\n      saveFocusHistory()\n    }\n  }, [focusHistory])\n\n  useEffect(()=>{\n    loadFocusHistory()\n  }, [])\n\n  const addSubject = (subject, minutes) => {\n    if (subject === null || subject === '')\n      Alert.alert('Uh oh', 'You forgot to add a subject', [\n        {\n          text: 'OK',\n          onPress: () => console.log('OK Pressed'),\n        },\n      ]);\n    else {\n      setFocusSubject(subject);\n      setStartingMinutes(minutes)\n    }\n  };\n\n  const onCountdownEnd = () => {\n    addFocusHistoryWithState(focusSubject, statuses.COMPLETE);\n  };\n\n  const clearSubject = (minutes) => {\n    addFocusHistoryWithState(focusSubject, statuses.CANCELLED, minutes);\n  };\n\n\n\n  return (\n    <View style={styles.container}>\n      <Modal visible={focusSubject !== null} animationType=\"slide\">\n        <TouchableWithoutFeedback onPress={Keyboard.dismiss}>\n          <View>\n            <Focus\n              focusSubject={focusSubject}\n              addSubject={addSubject}\n              onCountdownEnd={onCountdownEnd}\n              clearSubject={clearSubject}\n              startingMinutes={startingMinutes}\n              setStartingMinutes={setStartingMinutes}\n            />\n          </View>\n        </TouchableWithoutFeedback>\n      </Modal>\n        \n        <View>\n          <View>\n            <Home addSubject={addSubject} focusHistory={focusHistory} onClear={onClear} />\n          </View>\n        </View>\n        \n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n});\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}